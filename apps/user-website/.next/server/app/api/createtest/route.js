"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/createtest/route";
exports.ids = ["app/api/createtest/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/../../node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcreatetest%2Froute&page=%2Fapi%2Fcreatetest%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcreatetest%2Froute.ts&appDir=%2FUsers%2Fkishore%2FDownloads%2FQuiz-app%2Fapps%2Fuser-website%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fkishore%2FDownloads%2FQuiz-app%2Fapps%2Fuser-website&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcreatetest%2Froute&page=%2Fapi%2Fcreatetest%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcreatetest%2Froute.ts&appDir=%2FUsers%2Fkishore%2FDownloads%2FQuiz-app%2Fapps%2Fuser-website%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fkishore%2FDownloads%2FQuiz-app%2Fapps%2Fuser-website&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/../../node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/../../node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/../../node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_kishore_Downloads_Quiz_app_apps_user_website_src_app_api_createtest_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/createtest/route.ts */ \"(rsc)/./src/app/api/createtest/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/createtest/route\",\n        pathname: \"/api/createtest\",\n        filename: \"route\",\n        bundlePath: \"app/api/createtest/route\"\n    },\n    resolvedPagePath: \"/Users/kishore/Downloads/Quiz-app/apps/user-website/src/app/api/createtest/route.ts\",\n    nextConfigOutput,\n    userland: _Users_kishore_Downloads_Quiz_app_apps_user_website_src_app_api_createtest_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/createtest/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1hcHAtbG9hZGVyLmpzP25hbWU9YXBwJTJGYXBpJTJGY3JlYXRldGVzdCUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGY3JlYXRldGVzdCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmNyZWF0ZXRlc3QlMkZyb3V0ZS50cyZhcHBEaXI9JTJGVXNlcnMlMkZraXNob3JlJTJGRG93bmxvYWRzJTJGUXVpei1hcHAlMkZhcHBzJTJGdXNlci13ZWJzaXRlJTJGc3JjJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRmtpc2hvcmUlMkZEb3dubG9hZHMlMkZRdWl6LWFwcCUyRmFwcHMlMkZ1c2VyLXdlYnNpdGUmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ21DO0FBQ2hIO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdXNlci13ZWJzaXRlLz84NjJjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9raXNob3JlL0Rvd25sb2Fkcy9RdWl6LWFwcC9hcHBzL3VzZXItd2Vic2l0ZS9zcmMvYXBwL2FwaS9jcmVhdGV0ZXN0L3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9jcmVhdGV0ZXN0L3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvY3JlYXRldGVzdFwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvY3JlYXRldGVzdC9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9raXNob3JlL0Rvd25sb2Fkcy9RdWl6LWFwcC9hcHBzL3VzZXItd2Vic2l0ZS9zcmMvYXBwL2FwaS9jcmVhdGV0ZXN0L3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9jcmVhdGV0ZXN0L3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcreatetest%2Froute&page=%2Fapi%2Fcreatetest%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcreatetest%2Froute.ts&appDir=%2FUsers%2Fkishore%2FDownloads%2FQuiz-app%2Fapps%2Fuser-website%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fkishore%2FDownloads%2FQuiz-app%2Fapps%2Fuser-website&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/createtest/route.ts":
/*!*****************************************!*\
  !*** ./src/app/api/createtest/route.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var _src_lib_validation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/src/lib/validation */ \"(rsc)/./src/lib/validation.ts\");\n/* harmony import */ var _repo_db_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @repo/db/client */ \"(rsc)/../../packages/db/src/index.ts\");\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/server */ \"(rsc)/../../node_modules/next/dist/api/server.js\");\n\n\n\nconst POST = async (req)=>{\n    try {\n        const data = await req.json();\n        console.log(\"inside\", data);\n        const testSchema = await _src_lib_validation__WEBPACK_IMPORTED_MODULE_0__.UserTestDetailSchema.safeParse(data);\n        if (!testSchema.success) {\n            return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n                msg: testSchema.error.format(),\n                err: true,\n                data: null\n            });\n        }\n        const testDetails = testSchema.data;\n        let selectedQuestions;\n        let responseData;\n        if (testDetails.testType === \"SIMULATION\") {\n            const singleAnswerQuestions = await _repo_db_client__WEBPACK_IMPORTED_MODULE_1__[\"default\"].question.findMany({\n                where: {\n                    categoryId: testDetails.categoryId,\n                    isMultipleAnswer: false\n                },\n                take: 50\n            });\n            const multipleAnswerQuestions = await _repo_db_client__WEBPACK_IMPORTED_MODULE_1__[\"default\"].question.findMany({\n                where: {\n                    categoryId: testDetails.categoryId,\n                    isMultipleAnswer: true\n                },\n                take: 150\n            });\n            if (singleAnswerQuestions.length < 50 || multipleAnswerQuestions.length < 150) {\n                return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n                    msg: \"Insufficient questions available for a SIMULATION test\",\n                    err: true,\n                    data: null\n                });\n            }\n            const simulationTestDetail = await _repo_db_client__WEBPACK_IMPORTED_MODULE_1__[\"default\"].simulationTestDetail.create({\n                data: {\n                    userId: testDetails.userId,\n                    duration: testDetails.isTimed ? testDetails.duration : 0,\n                    isCompleted: false,\n                    testType: testDetails.testType,\n                    numberOfQuestions: singleAnswerQuestions.length + multipleAnswerQuestions.length,\n                    singleQuestion: {\n                        connect: singleAnswerQuestions.map((question)=>({\n                                id: question.id\n                            }))\n                    },\n                    multipleQuestion: {\n                        connect: multipleAnswerQuestions.map((question)=>({\n                                id: question.id\n                            }))\n                    },\n                    categoryId: testDetails.categoryId\n                },\n                select: {\n                    id: true,\n                    singleQuestion: {\n                        select: {\n                            title: true,\n                            choice: {\n                                select: {\n                                    id: true,\n                                    text: true\n                                }\n                            }\n                        }\n                    },\n                    multipleQuestion: {\n                        select: {\n                            title: true,\n                            choice: {\n                                select: {\n                                    id: true,\n                                    text: true\n                                }\n                            }\n                        }\n                    },\n                    testType: true,\n                    createdAt: true,\n                    duration: true\n                }\n            });\n            responseData = {\n                id: simulationTestDetail.id,\n                singleQuestion: simulationTestDetail.singleQuestion.map(({ choice, ...rest })=>({\n                        ...rest,\n                        choice: choice.map(({ id, text })=>({\n                                id,\n                                text\n                            }))\n                    })),\n                multipleQuestion: simulationTestDetail.multipleQuestion.map(({ choice, ...rest })=>({\n                        ...rest,\n                        choice: choice.map(({ id, text })=>({\n                                id,\n                                text\n                            }))\n                    })),\n                testType: simulationTestDetail.testType,\n                createdAt: simulationTestDetail.createdAt,\n                duration: simulationTestDetail.duration\n            };\n            return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n                msg: \"SIMULATION test created successfully\",\n                err: false,\n                data: responseData\n            });\n        } else {\n            selectedQuestions = await _repo_db_client__WEBPACK_IMPORTED_MODULE_1__[\"default\"].question.findMany({\n                where: {\n                    categoryId: testDetails.categoryId\n                },\n                take: testDetails.numberOfQuestions\n            });\n            const userTestDetail = await _repo_db_client__WEBPACK_IMPORTED_MODULE_1__[\"default\"].userTestDetail.create({\n                data: {\n                    userId: testDetails.userId,\n                    categoryId: testDetails.categoryId,\n                    numberOfQuestions: selectedQuestions.length,\n                    duration: testDetails.isTimed ? testDetails.duration : 0,\n                    isCompleted: false,\n                    isTimed: testDetails.isTimed,\n                    testType: testDetails.testType,\n                    question: {\n                        connect: selectedQuestions.map((question)=>({\n                                id: question.id\n                            }))\n                    }\n                },\n                select: {\n                    id: true,\n                    question: {\n                        select: {\n                            id: true,\n                            question: true,\n                            choice: {\n                                select: {\n                                    id: true,\n                                    text: true\n                                }\n                            }\n                        }\n                    },\n                    testType: true,\n                    createdAt: true,\n                    duration: true\n                }\n            });\n            responseData = {\n                id: userTestDetail.id,\n                question: userTestDetail.question.map(({ choice, ...rest })=>({\n                        ...rest,\n                        choice: choice.map(({ id, text })=>({\n                                id,\n                                text\n                            }))\n                    })),\n                testType: userTestDetail.testType,\n                createdAt: userTestDetail.createdAt,\n                duration: userTestDetail.duration\n            };\n            return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n                msg: \"Test created successfully\",\n                err: false,\n                data: responseData\n            });\n        }\n    } catch (error) {\n        console.error(\"Error while creating test details:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n            msg: \"Something went wrong while creating test details\",\n            err: true,\n            data: null\n        });\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNqQixXQUFjO2dDQUFFa0IsSUFBSWxCLFNBQVNrQixFQUFFOzRCQUFDO29CQUNsRTtnQkFDRjtnQkFDQUUsUUFBUTtvQkFDTkYsSUFBSTtvQkFDSmxCLFVBQVU7d0JBQ1JvQixRQUFROzRCQUNORixJQUFJOzRCQUNKbEIsVUFBVTs0QkFDVnNCLFFBQVE7Z0NBQ05GLFFBQVE7b0NBQ05GLElBQUk7b0NBQ0pLLE1BQU07Z0NBQ1I7NEJBQ0Y7d0JBQ0Y7b0JBQ0Y7b0JBQ0F6QixVQUFVO29CQUNWMEIsV0FBVztvQkFDWGIsVUFBVTtnQkFDWjtZQUNGO1lBRUFkLGVBQWU7Z0JBQ2JxQixJQUFJUSxlQUFlUixFQUFFO2dCQUNyQmxCLFVBQVUwQixlQUFlMUIsUUFBUSxDQUFDaUIsR0FBRyxDQUFDLENBQUMsRUFBRUssTUFBTSxFQUFFLEdBQUdHLE1BQU0sR0FBTTt3QkFDOUQsR0FBR0EsSUFBSTt3QkFDUEgsUUFBUUEsT0FBT0wsR0FBRyxDQUFDLENBQUMsRUFBRUMsRUFBRSxFQUFFSyxJQUFJLEVBQUUsR0FBTTtnQ0FBRUw7Z0NBQUlLOzRCQUFLO29CQUNuRDtnQkFDQXpCLFVBQVU0QixlQUFlNUIsUUFBUTtnQkFDakMwQixXQUFXRSxlQUFlRixTQUFTO2dCQUNuQ2IsVUFBVWUsZUFBZWYsUUFBUTtZQUNuQztZQUVBLE9BQU85QixxREFBWUEsQ0FBQ0ksSUFBSSxDQUFDO2dCQUN2Qk0sS0FBSztnQkFDTEcsS0FBSztnQkFDTFYsTUFBTWE7WUFDUjtRQUNGO0lBQ0YsRUFBRSxPQUFPTCxPQUFPO1FBQ2ROLFFBQVFNLEtBQUssQ0FBQyxzQ0FBc0NBO1FBQ3BELE9BQU9YLHFEQUFZQSxDQUFDSSxJQUFJLENBQUM7WUFDdkJNLEtBQUs7WUFDTEcsS0FBSztZQUNMVixNQUFNO1FBQ1I7SUFDRjtBQUNGLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly91c2VyLXdlYnNpdGUvLi9zcmMvYXBwL2FwaS9jcmVhdGV0ZXN0L3JvdXRlLnRzPzExYWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVXNlclRlc3REZXRhaWxTY2hlbWEgfSBmcm9tIFwiQC9zcmMvbGliL3ZhbGlkYXRpb25cIjtcbmltcG9ydCBwcmlzbWEgZnJvbSBcIkByZXBvL2RiL2NsaWVudFwiO1xuaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xuXG5leHBvcnQgY29uc3QgUE9TVCA9IGFzeW5jIChyZXE6IE5leHRSZXF1ZXN0KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcS5qc29uKCk7XG4gICAgY29uc29sZS5sb2coXCJpbnNpZGVcIiwgZGF0YSk7XG4gICAgY29uc3QgdGVzdFNjaGVtYSA9IGF3YWl0IFVzZXJUZXN0RGV0YWlsU2NoZW1hLnNhZmVQYXJzZShkYXRhKTtcblxuICAgIGlmICghdGVzdFNjaGVtYS5zdWNjZXNzKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICBtc2c6IHRlc3RTY2hlbWEuZXJyb3IuZm9ybWF0KCksXG4gICAgICAgIGVycjogdHJ1ZSxcbiAgICAgICAgZGF0YTogbnVsbCxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IHRlc3REZXRhaWxzID0gdGVzdFNjaGVtYS5kYXRhO1xuICAgIGxldCBzZWxlY3RlZFF1ZXN0aW9ucztcbiAgICBsZXQgcmVzcG9uc2VEYXRhO1xuXG4gICAgaWYgKHRlc3REZXRhaWxzLnRlc3RUeXBlID09PSBcIlNJTVVMQVRJT05cIikge1xuICAgICAgY29uc3Qgc2luZ2xlQW5zd2VyUXVlc3Rpb25zID0gYXdhaXQgcHJpc21hLnF1ZXN0aW9uLmZpbmRNYW55KHtcbiAgICAgICAgd2hlcmU6IHsgY2F0ZWdvcnlJZDogdGVzdERldGFpbHMuY2F0ZWdvcnlJZCwgaXNNdWx0aXBsZUFuc3dlcjogZmFsc2UgfSxcbiAgICAgICAgdGFrZTogNTAsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgbXVsdGlwbGVBbnN3ZXJRdWVzdGlvbnMgPSBhd2FpdCBwcmlzbWEucXVlc3Rpb24uZmluZE1hbnkoe1xuICAgICAgICB3aGVyZTogeyBjYXRlZ29yeUlkOiB0ZXN0RGV0YWlscy5jYXRlZ29yeUlkLCBpc011bHRpcGxlQW5zd2VyOiB0cnVlIH0sXG4gICAgICAgIHRha2U6IDE1MCxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoXG4gICAgICAgIHNpbmdsZUFuc3dlclF1ZXN0aW9ucy5sZW5ndGggPCA1MCB8fFxuICAgICAgICBtdWx0aXBsZUFuc3dlclF1ZXN0aW9ucy5sZW5ndGggPCAxNTBcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICAgIG1zZzogXCJJbnN1ZmZpY2llbnQgcXVlc3Rpb25zIGF2YWlsYWJsZSBmb3IgYSBTSU1VTEFUSU9OIHRlc3RcIixcbiAgICAgICAgICBlcnI6IHRydWUsXG4gICAgICAgICAgZGF0YTogbnVsbCxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHNpbXVsYXRpb25UZXN0RGV0YWlsID0gYXdhaXQgcHJpc21hLnNpbXVsYXRpb25UZXN0RGV0YWlsLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB1c2VySWQ6IHRlc3REZXRhaWxzLnVzZXJJZCxcbiAgICAgICAgICBkdXJhdGlvbjogdGVzdERldGFpbHMuaXNUaW1lZCA/IHRlc3REZXRhaWxzLmR1cmF0aW9uIDogMCxcbiAgICAgICAgICBpc0NvbXBsZXRlZDogZmFsc2UsXG4gICAgICAgICAgdGVzdFR5cGU6IHRlc3REZXRhaWxzLnRlc3RUeXBlLFxuICAgICAgICAgIG51bWJlck9mUXVlc3Rpb25zOlxuICAgICAgICAgICAgc2luZ2xlQW5zd2VyUXVlc3Rpb25zLmxlbmd0aCArIG11bHRpcGxlQW5zd2VyUXVlc3Rpb25zLmxlbmd0aCxcbiAgICAgICAgICBzaW5nbGVRdWVzdGlvbjoge1xuICAgICAgICAgICAgY29ubmVjdDogc2luZ2xlQW5zd2VyUXVlc3Rpb25zLm1hcCgocXVlc3Rpb24pID0+ICh7XG4gICAgICAgICAgICAgIGlkOiBxdWVzdGlvbi5pZCxcbiAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIG11bHRpcGxlUXVlc3Rpb246IHtcbiAgICAgICAgICAgIGNvbm5lY3Q6IG11bHRpcGxlQW5zd2VyUXVlc3Rpb25zLm1hcCgocXVlc3Rpb24pID0+ICh7XG4gICAgICAgICAgICAgIGlkOiBxdWVzdGlvbi5pZCxcbiAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNhdGVnb3J5SWQ6IHRlc3REZXRhaWxzLmNhdGVnb3J5SWQsXG4gICAgICAgIH0sXG4gICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgIGlkOiB0cnVlLFxuICAgICAgICAgIHNpbmdsZVF1ZXN0aW9uOiB7XG4gICAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgICAgdGl0bGU6IHRydWUsXG4gICAgICAgICAgICAgIGNob2ljZToge1xuICAgICAgICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgICAgICAgaWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICB0ZXh0OiB0cnVlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgbXVsdGlwbGVRdWVzdGlvbjoge1xuICAgICAgICAgICAgc2VsZWN0OiB7XG4gICAgICAgICAgICAgIHRpdGxlOiB0cnVlLFxuICAgICAgICAgICAgICBjaG9pY2U6IHtcbiAgICAgICAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgICAgICAgIGlkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgdGV4dDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRlc3RUeXBlOiB0cnVlLFxuICAgICAgICAgIGNyZWF0ZWRBdDogdHJ1ZSxcbiAgICAgICAgICBkdXJhdGlvbjogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICByZXNwb25zZURhdGEgPSB7XG4gICAgICAgIGlkOiBzaW11bGF0aW9uVGVzdERldGFpbC5pZCxcbiAgICAgICAgc2luZ2xlUXVlc3Rpb246IHNpbXVsYXRpb25UZXN0RGV0YWlsLnNpbmdsZVF1ZXN0aW9uLm1hcChcbiAgICAgICAgICAoeyBjaG9pY2UsIC4uLnJlc3QgfSkgPT4gKHtcbiAgICAgICAgICAgIC4uLnJlc3QsXG4gICAgICAgICAgICBjaG9pY2U6IGNob2ljZS5tYXAoKHsgaWQsIHRleHQgfSkgPT4gKHsgaWQsIHRleHQgfSkpLFxuICAgICAgICAgIH0pXG4gICAgICAgICksXG4gICAgICAgIG11bHRpcGxlUXVlc3Rpb246IHNpbXVsYXRpb25UZXN0RGV0YWlsLm11bHRpcGxlUXVlc3Rpb24ubWFwKFxuICAgICAgICAgICh7IGNob2ljZSwgLi4ucmVzdCB9KSA9PiAoe1xuICAgICAgICAgICAgLi4ucmVzdCxcbiAgICAgICAgICAgIGNob2ljZTogY2hvaWNlLm1hcCgoeyBpZCwgdGV4dCB9KSA9PiAoeyBpZCwgdGV4dCB9KSksXG4gICAgICAgICAgfSlcbiAgICAgICAgKSxcbiAgICAgICAgdGVzdFR5cGU6IHNpbXVsYXRpb25UZXN0RGV0YWlsLnRlc3RUeXBlLFxuICAgICAgICBjcmVhdGVkQXQ6IHNpbXVsYXRpb25UZXN0RGV0YWlsLmNyZWF0ZWRBdCxcbiAgICAgICAgZHVyYXRpb246IHNpbXVsYXRpb25UZXN0RGV0YWlsLmR1cmF0aW9uLFxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgbXNnOiBcIlNJTVVMQVRJT04gdGVzdCBjcmVhdGVkIHN1Y2Nlc3NmdWxseVwiLFxuICAgICAgICBlcnI6IGZhbHNlLFxuICAgICAgICBkYXRhOiByZXNwb25zZURhdGEsXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZWN0ZWRRdWVzdGlvbnMgPSBhd2FpdCBwcmlzbWEucXVlc3Rpb24uZmluZE1hbnkoe1xuICAgICAgICB3aGVyZTogeyBjYXRlZ29yeUlkOiB0ZXN0RGV0YWlscy5jYXRlZ29yeUlkIH0sXG4gICAgICAgIHRha2U6IHRlc3REZXRhaWxzLm51bWJlck9mUXVlc3Rpb25zLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHVzZXJUZXN0RGV0YWlsID0gYXdhaXQgcHJpc21hLnVzZXJUZXN0RGV0YWlsLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB1c2VySWQ6IHRlc3REZXRhaWxzLnVzZXJJZCxcbiAgICAgICAgICBjYXRlZ29yeUlkOiB0ZXN0RGV0YWlscy5jYXRlZ29yeUlkLFxuICAgICAgICAgIG51bWJlck9mUXVlc3Rpb25zOiBzZWxlY3RlZFF1ZXN0aW9ucy5sZW5ndGgsXG4gICAgICAgICAgZHVyYXRpb246IHRlc3REZXRhaWxzLmlzVGltZWQgPyB0ZXN0RGV0YWlscy5kdXJhdGlvbiA6IDAsXG4gICAgICAgICAgaXNDb21wbGV0ZWQ6IGZhbHNlLFxuICAgICAgICAgIGlzVGltZWQ6IHRlc3REZXRhaWxzLmlzVGltZWQsXG4gICAgICAgICAgdGVzdFR5cGU6IHRlc3REZXRhaWxzLnRlc3RUeXBlLFxuICAgICAgICAgIHF1ZXN0aW9uOiB7XG4gICAgICAgICAgICBjb25uZWN0OiBzZWxlY3RlZFF1ZXN0aW9ucy5tYXAoKHF1ZXN0aW9uKSA9PiAoeyBpZDogcXVlc3Rpb24uaWQgfSkpLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgIGlkOiB0cnVlLFxuICAgICAgICAgIHF1ZXN0aW9uOiB7XG4gICAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgICAgaWQ6IHRydWUsXG4gICAgICAgICAgICAgIHF1ZXN0aW9uOiB0cnVlLFxuICAgICAgICAgICAgICBjaG9pY2U6IHtcbiAgICAgICAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgICAgICAgIGlkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgdGV4dDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRlc3RUeXBlOiB0cnVlLFxuICAgICAgICAgIGNyZWF0ZWRBdDogdHJ1ZSxcbiAgICAgICAgICBkdXJhdGlvbjogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICByZXNwb25zZURhdGEgPSB7XG4gICAgICAgIGlkOiB1c2VyVGVzdERldGFpbC5pZCxcbiAgICAgICAgcXVlc3Rpb246IHVzZXJUZXN0RGV0YWlsLnF1ZXN0aW9uLm1hcCgoeyBjaG9pY2UsIC4uLnJlc3QgfSkgPT4gKHtcbiAgICAgICAgICAuLi5yZXN0LFxuICAgICAgICAgIGNob2ljZTogY2hvaWNlLm1hcCgoeyBpZCwgdGV4dCB9KSA9PiAoeyBpZCwgdGV4dCB9KSksXG4gICAgICAgIH0pKSxcbiAgICAgICAgdGVzdFR5cGU6IHVzZXJUZXN0RGV0YWlsLnRlc3RUeXBlLFxuICAgICAgICBjcmVhdGVkQXQ6IHVzZXJUZXN0RGV0YWlsLmNyZWF0ZWRBdCxcbiAgICAgICAgZHVyYXRpb246IHVzZXJUZXN0RGV0YWlsLmR1cmF0aW9uLFxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgbXNnOiBcIlRlc3QgY3JlYXRlZCBzdWNjZXNzZnVsbHlcIixcbiAgICAgICAgZXJyOiBmYWxzZSxcbiAgICAgICAgZGF0YTogcmVzcG9uc2VEYXRhLFxuICAgICAgfSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB3aGlsZSBjcmVhdGluZyB0ZXN0IGRldGFpbHM6XCIsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgbXNnOiBcIlNvbWV0aGluZyB3ZW50IHdyb25nIHdoaWxlIGNyZWF0aW5nIHRlc3QgZGV0YWlsc1wiLFxuICAgICAgZXJyOiB0cnVlLFxuICAgICAgZGF0YTogbnVsbCxcbiAgICB9KTtcbiAgfVxufTtcbiJdLCJuYW1lcyI6WyJVc2VyVGVzdERldGFpbFNjaGVtYSIsInByaXNtYSIsIk5leHRSZXNwb25zZSIsIlBPU1QiLCJyZXEiLCJkYXRhIiwianNvbiIsImNvbnNvbGUiLCJsb2ciLCJ0ZXN0U2NoZW1hIiwic2FmZVBhcnNlIiwic3VjY2VzcyIsIm1zZyIsImVycm9yIiwiZm9ybWF0IiwiZXJyIiwidGVzdERldGFpbHMiLCJzZWxlY3RlZFF1ZXN0aW9ucyIsInJlc3BvbnNlRGF0YSIsInRlc3RUeXBlIiwic2luZ2xlQW5zd2VyUXVlc3Rpb25zIiwicXVlc3Rpb24iLCJmaW5kTWFueSIsIndoZXJlIiwiY2F0ZWdvcnlJZCIsImlzTXVsdGlwbGVBbnN3ZXIiLCJ0YWtlIiwibXVsdGlwbGVBbnN3ZXJRdWVzdGlvbnMiLCJsZW5ndGgiLCJzaW11bGF0aW9uVGVzdERldGFpbCIsImNyZWF0ZSIsInVzZXJJZCIsImR1cmF0aW9uIiwiaXNUaW1lZCIsImlzQ29tcGxldGVkIiwibnVtYmVyT2ZRdWVzdGlvbnMiLCJzaW5nbGVRdWVzdGlvbiIsImNvbm5lY3QiLCJtYXAiLCJpZCIsIm11bHRpcGxlUXVlc3Rpb24iLCJzZWxlY3QiLCJ0aXRsZSIsImNob2ljZSIsInRleHQiLCJjcmVhdGVkQXQiLCJyZXN0IiwidXNlclRlc3REZXRhaWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/createtest/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/validation.ts":
/*!*******************************!*\
  !*** ./src/lib/validation.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UserTestDetailSchema: () => (/* binding */ UserTestDetailSchema)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(rsc)/../../node_modules/zod/lib/index.mjs\");\n\nconst TestTypeEnum = zod__WEBPACK_IMPORTED_MODULE_0__.z.enum([\n    \"TIMER\",\n    \"NOTIMER\",\n    \"SIMULATION\"\n]);\nconst UserTestDetailSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    userId: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(1, \"User ID is required\"),\n    isTimed: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean(),\n    testType: TestTypeEnum,\n    duration: zod__WEBPACK_IMPORTED_MODULE_0__.z.number().optional(),\n    correctAnswers: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(1, \"Correct answers field is required\").optional(),\n    numberOfQuestions: zod__WEBPACK_IMPORTED_MODULE_0__.z.number().min(1, \"Number of questions must be at least 1\"),\n    categoryId: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(1, \"Category ID is required\")\n}).refine((data)=>{\n    if (data.isTimed) {\n        return data.duration !== undefined;\n    }\n    return true;\n}, {\n    message: \"Duration is required when isTimed is true\",\n    path: [\n        \"duration\"\n    ]\n});\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3ZhbGlkYXRpb24udHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBd0I7QUFDeEIsTUFBTUMsZUFBZUQsa0NBQUNBLENBQUNFLElBQUksQ0FBQztJQUFDO0lBQVM7SUFBVztDQUFhO0FBRTlELE1BQU1DLHVCQUF1Qkgsa0NBQUNBLENBQzNCSSxNQUFNLENBQUM7SUFDTkMsUUFBUUwsa0NBQUNBLENBQUNNLE1BQU0sR0FBR0MsR0FBRyxDQUFDLEdBQUc7SUFDMUJDLFNBQVNSLGtDQUFDQSxDQUFDUyxPQUFPO0lBQ2xCQyxVQUFVVDtJQUNWVSxVQUFVWCxrQ0FBQ0EsQ0FBQ1ksTUFBTSxHQUFHQyxRQUFRO0lBQzdCQyxnQkFBZ0JkLGtDQUFDQSxDQUNkTSxNQUFNLEdBQ05DLEdBQUcsQ0FBQyxHQUFHLHFDQUNQTSxRQUFRO0lBQ1hFLG1CQUFtQmYsa0NBQUNBLENBQ2pCWSxNQUFNLEdBQ05MLEdBQUcsQ0FBQyxHQUFHO0lBQ1ZTLFlBQVloQixrQ0FBQ0EsQ0FBQ00sTUFBTSxHQUFHQyxHQUFHLENBQUMsR0FBRztBQUNoQyxHQUNDVSxNQUFNLENBQ0wsQ0FBQ0M7SUFDQyxJQUFJQSxLQUFLVixPQUFPLEVBQUU7UUFDaEIsT0FBT1UsS0FBS1AsUUFBUSxLQUFLUTtJQUMzQjtJQUNBLE9BQU87QUFDVCxHQUNBO0lBQ0VDLFNBQVM7SUFDVEMsTUFBTTtRQUFDO0tBQVc7QUFDcEI7QUFHNEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly91c2VyLXdlYnNpdGUvLi9zcmMvbGliL3ZhbGlkYXRpb24udHM/NDYwZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB6IH0gZnJvbSBcInpvZFwiO1xuY29uc3QgVGVzdFR5cGVFbnVtID0gei5lbnVtKFtcIlRJTUVSXCIsIFwiTk9USU1FUlwiLCBcIlNJTVVMQVRJT05cIl0pO1xuXG5jb25zdCBVc2VyVGVzdERldGFpbFNjaGVtYSA9IHpcbiAgLm9iamVjdCh7XG4gICAgdXNlcklkOiB6LnN0cmluZygpLm1pbigxLCBcIlVzZXIgSUQgaXMgcmVxdWlyZWRcIiksXG4gICAgaXNUaW1lZDogei5ib29sZWFuKCksXG4gICAgdGVzdFR5cGU6IFRlc3RUeXBlRW51bSxcbiAgICBkdXJhdGlvbjogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICAgIGNvcnJlY3RBbnN3ZXJzOiB6XG4gICAgICAuc3RyaW5nKClcbiAgICAgIC5taW4oMSwgXCJDb3JyZWN0IGFuc3dlcnMgZmllbGQgaXMgcmVxdWlyZWRcIilcbiAgICAgIC5vcHRpb25hbCgpLFxuICAgIG51bWJlck9mUXVlc3Rpb25zOiB6XG4gICAgICAubnVtYmVyKClcbiAgICAgIC5taW4oMSwgXCJOdW1iZXIgb2YgcXVlc3Rpb25zIG11c3QgYmUgYXQgbGVhc3QgMVwiKSxcbiAgICBjYXRlZ29yeUlkOiB6LnN0cmluZygpLm1pbigxLCBcIkNhdGVnb3J5IElEIGlzIHJlcXVpcmVkXCIpLFxuICB9KVxuICAucmVmaW5lKFxuICAgIChkYXRhKSA9PiB7XG4gICAgICBpZiAoZGF0YS5pc1RpbWVkKSB7XG4gICAgICAgIHJldHVybiBkYXRhLmR1cmF0aW9uICE9PSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIHtcbiAgICAgIG1lc3NhZ2U6IFwiRHVyYXRpb24gaXMgcmVxdWlyZWQgd2hlbiBpc1RpbWVkIGlzIHRydWVcIixcbiAgICAgIHBhdGg6IFtcImR1cmF0aW9uXCJdLFxuICAgIH1cbiAgKTtcblxuZXhwb3J0IHsgVXNlclRlc3REZXRhaWxTY2hlbWEgfTtcbiJdLCJuYW1lcyI6WyJ6IiwiVGVzdFR5cGVFbnVtIiwiZW51bSIsIlVzZXJUZXN0RGV0YWlsU2NoZW1hIiwib2JqZWN0IiwidXNlcklkIiwic3RyaW5nIiwibWluIiwiaXNUaW1lZCIsImJvb2xlYW4iLCJ0ZXN0VHlwZSIsImR1cmF0aW9uIiwibnVtYmVyIiwib3B0aW9uYWwiLCJjb3JyZWN0QW5zd2VycyIsIm51bWJlck9mUXVlc3Rpb25zIiwiY2F0ZWdvcnlJZCIsInJlZmluZSIsImRhdGEiLCJ1bmRlZmluZWQiLCJtZXNzYWdlIiwicGF0aCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/validation.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/db/src/index.ts":
/*!**************************************!*\
  !*** ../../packages/db/src/index.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst prismaClientSingleton = ()=>{\n    return new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\n};\nconst prisma = globalThis.prismaGlobal ?? prismaClientSingleton();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (prisma);\nif (true) globalThis.prismaGlobal = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvZGIvc3JjL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE4QztBQUU5QyxNQUFNQyx3QkFBd0I7SUFDNUIsT0FBTyxJQUFJRCx3REFBWUE7QUFDekI7QUFNQSxNQUFNRSxTQUFTQyxXQUFXQyxZQUFZLElBQUlIO0FBRTFDLGlFQUFlQyxNQUFNQSxFQUFDO0FBRXRCLElBQUlHLElBQXFDLEVBQUVGLFdBQVdDLFlBQVksR0FBR0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly91c2VyLXdlYnNpdGUvLi4vLi4vcGFja2FnZXMvZGIvc3JjL2luZGV4LnRzPzZhMDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSBcIkBwcmlzbWEvY2xpZW50XCI7XG5cbmNvbnN0IHByaXNtYUNsaWVudFNpbmdsZXRvbiA9ICgpID0+IHtcbiAgcmV0dXJuIG5ldyBQcmlzbWFDbGllbnQoKTtcbn07XG5cbmRlY2xhcmUgY29uc3QgZ2xvYmFsVGhpczoge1xuICBwcmlzbWFHbG9iYWw6IFJldHVyblR5cGU8dHlwZW9mIHByaXNtYUNsaWVudFNpbmdsZXRvbj47XG59ICYgdHlwZW9mIGdsb2JhbDtcblxuY29uc3QgcHJpc21hID0gZ2xvYmFsVGhpcy5wcmlzbWFHbG9iYWwgPz8gcHJpc21hQ2xpZW50U2luZ2xldG9uKCk7XG5cbmV4cG9ydCBkZWZhdWx0IHByaXNtYTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgZ2xvYmFsVGhpcy5wcmlzbWFHbG9iYWwgPSBwcmlzbWE7XG4iXSwibmFtZXMiOlsiUHJpc21hQ2xpZW50IiwicHJpc21hQ2xpZW50U2luZ2xldG9uIiwicHJpc21hIiwiZ2xvYmFsVGhpcyIsInByaXNtYUdsb2JhbCIsInByb2Nlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../packages/db/src/index.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/zod"], () => (__webpack_exec__("(rsc)/../../node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcreatetest%2Froute&page=%2Fapi%2Fcreatetest%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcreatetest%2Froute.ts&appDir=%2FUsers%2Fkishore%2FDownloads%2FQuiz-app%2Fapps%2Fuser-website%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fkishore%2FDownloads%2FQuiz-app%2Fapps%2Fuser-website&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();